/*!
 * shenjian tools v2.0.0
 * (c) 2018 楼教主 <fe.52cik@gmail.com> (http://www.52cik.com/)
 * Released under the MIT License.
 */
(function(e){"use strict";var r=Object.freeze({isDeep:function(e){return 1700<e}}),t={};var s=Object.freeze({set:function(e,r){t[e]=r},get:function(e){return t[e]},del:function(e){delete t[e]},clear:function(){t={}}}),n=1e3,c=60*n,a=60*c,i=24*a,u=7*i,o=365.25*i,f=/^((?:\d+)?-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i;function d(e){return e=+e,String(e<10?"0"+e:e)}var m=/<img[^>]+?src="([^"]+)"[^>]*>(?:<\/img>)?/gi;function g(e,r){return void 0===r&&(r=!0),!1===r?e:""===e.trim()?e:/\.(jpe?g|gif|a?png|bmp|webp)@/i.test(e)?e.replace(/(\.\w+)@.+/,"$&$1"):/\.(jpe?g|gif|a?png|bmp|webp)/i.test(e)?e:e.replace(/(\?.+)?$/,".jpg$&")}function l(e){return""===e.trim()?e:e.replace(/(?=^\/\/)/,"http:")}function p(e,r){return void 0===r&&(r=!0),""===e.trim()?e:g(l(e),r)}var h=new RegExp("[\\x00-\\xff]+","g");return e.store=s,e.helper=r,e.getTime=function(e){var i="";if(e.replace(/(20\d{1,2})\D(\d{1,2})\D(\d{1,2})(?:\D+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?/,function(e,r,t,s,n,c,a){return i=r+"-"+d(t)+"-"+d(s),n&&(i+=" "+d(n)),c&&(i+=":"+d(c)),a&&(i+=":"+d(a)),""}),!/^20\d+-\d+-\d+/.test(i))return new Date(0);var r="0000-00-00 00:00:00".slice(i.length);return i+=r,new Date(i)},e.expired=function(e,r){return"string"==typeof e&&(e=new Date(e)),+e<Date.now()-function(e){if(100<(e=String(e)).length)return 0;var r=f.exec(e);if(!r)return 0;var t=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return t*o;case"weeks":case"week":case"w":return t*u;case"days":case"day":case"d":return t*i;case"hours":case"hour":case"hrs":case"hr":case"h":return t*a;case"minutes":case"minute":case"mins":case"min":case"m":return t*c;case"seconds":case"second":case"secs":case"sec":case"s":return t*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return 0}}(r)},e.getJSON=function(e,r){void 0===r&&(r={}),e=e.replace(/^[^{[]+/,"").replace(/[^}\]]+$/,"");try{return JSON.parse(e)}catch(e){return r}},e.clearImg=function(e,t){return void 0===t&&(t=!0),e.replace(m,function(e,r){return'<img src="'+p(r,t)+'">'})},e.fixImgExt=g,e.fixHttp=l,e.fixImg=p,e.strLen=function(e){return e?String(e).replace(h,"").length:0},e})({});
